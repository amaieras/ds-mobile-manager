<div class="example-container mat-elevation-z8">
  <div class="example-header">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
  </div>

  <mat-table #table [dataSource]="dataSource" matSort>

    <!-- Added date Column -->
    <ng-container matColumnDef="addedDate">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Data adaugarii</mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.addedDate | date:"dd-MM-yyyy HH:mm"}} </mat-cell>
    </ng-container>

    <!-- Lastname Column -->
    <ng-container matColumnDef="lastname">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
      <mat-cell *matCellDef="let element">{{element.lastname}}</mat-cell>
    </ng-container>

    <!-- PhoneList Column -->
    <ng-container matColumnDef="phoneList">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Lista telefoane </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <span *ngFor="let column of element.phoneList">{{column.phoneBrand}} - {{column.phoneModel}};</span>
        </mat-cell>
    </ng-container>

    <!-- ProblemList Column -->
    <ng-container matColumnDef="problems">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Lista probleme </mat-header-cell>
      <mat-cell *matCellDef="let element">
          <div class="ui-grid ui-grid-responsive ui-grid-pad" *ngFor="let item of element.phoneList">
            <div class="ui-grid-row" *ngFor="let it of item.problems">
              <div class="ui-grid-col-10">{{it.problem}} X {{it.phoneQuantity}};</div>
            </div>
          </div>
      </mat-cell>
    </ng-container>

    <!--  Oferta Pret -->
    <ng-container matColumnDef="priceOffer">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Oferta pret </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.priceOffer}} </mat-cell>
    </ng-container>

    <!--  Data livrarii Column -->
    <ng-container matColumnDef="deliveredDate">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Data livrarii </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.deliveredDate | date:"dd-MM-yyyy HH:mm"}} </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
</div>
